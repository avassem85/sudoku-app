<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../src/sudoku-app/sudoku-grid.html">

<dom-module id="sudoku-app">
  <template>
    <style>
    </style>

    <button on-tap="newSudoku">New</button>
    <button on-tap="loadSudoku">Load</button>
  </template>

  <script>
    Polymer({

      is: 'sudoku-app',

      properties: {
        grids: {
          type: Array,
          value: function(){
            return [];
          }
        }
      },
      ready: function(){
        this.loadSudoku();
      },
      _addGrid: function(){
        var node = document.createElement('sudoku-grid');
        node.autoSolve = false;
        this.appendChild(node);
        this.push('grids', node);

        return node;
      },
      _removeGrids: function(){
        let num = this.grids.length;
        for(let i = 0; i < num; i++){
          this.removeChild(this.grids[i]);
          this.splice('grids', this.get('grids').indexOf(value), 1);
        }
      },
      newSudoku: function(){
        this._removeGrids();
        this._addGrid().newSudoku();
      },
      loadSudoku: function(){

        // Hard Sudoku
        // let data = [
        //   ' ', '5', '3', ' ', ' ', ' ', '1', '7', ' ',
        //   ' ', '2', ' ', '1', ' ', '9', ' ', '6', ' ',
        //   ' ', ' ', ' ', ' ', '4', ' ', ' ', ' ', ' ',
        //   '1', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '9',
        //   ' ', '4', '7', ' ', ' ', ' ', '8', '5', ' ',
        //   '3', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '2',
        //   ' ', ' ', ' ', ' ', '5', ' ', ' ', ' ', ' ',
        //   ' ', '3', ' ', '7', ' ', '2', ' ', '1', ' ',
        //   ' ', '7', '6', ' ', ' ', ' ', '4', '8', ' '
        // ];

        // Hard Sudoku
        let data = [
          ' ', ' ', ' ', '2', ' ', ' ', ' ', '6', '3',
          '3', ' ', ' ', ' ', ' ', '5', '4', ' ', '1',
          ' ', ' ', '1', ' ', ' ', '3', '9', '8', ' ',
          ' ', ' ', ' ', ' ', ' ', ' ', ' ', '9', ' ',
          ' ', ' ', ' ', '5', '3', '8', ' ', ' ', ' ',
          ' ', '3', ' ', ' ', ' ', ' ', ' ', ' ', ' ',
          ' ', '2', '6', '3', ' ', ' ', '5', ' ', ' ',
          '5', ' ', '3', '7', ' ', ' ', ' ', ' ', ' ',
          '4', '7', ' ', ' ', ' ', '1', ' ', ' ', '8'
        ];

        // let data = [
        //   '4', '9', ' ', ' ', '2', '1', '5', ' ', ' ',
        //   ' ', '7', '5', '3', ' ', ' ', ' ', ' ', '2',
        //   '8', ' ', ' ', ' ', ' ', ' ', ' ', '4', ' ',
        //   ' ', ' ', ' ', ' ', ' ', '5', ' ', '8', ' ',
        //   ' ', '3', ' ', '2', ' ', '6', ' ', '9', ' ',
        //   ' ', '8', ' ', '7', ' ', ' ', ' ', ' ', ' ',
        //   ' ', '4', ' ', ' ', ' ', ' ', ' ', ' ', '5',
        //   '2', ' ', ' ', ' ', ' ', '8', '9', '3', ' ',
        //   ' ', ' ', '9', '6', '7', ' ', ' ', '1', '8'
        // ];

        // let data = [
        //   '3', ' ', '4', ' ',
        //   ' ', '1', ' ', '3',
        //   '2', '3', ' ', ' ',
        //   '1', ' ', ' ', '2'
        // ]

        // let data = [
        //   '3', ' ', ' ', ' ',
        //   ' ', ' ', ' ', '3',
        //   ' ', '3', ' ', ' ',
        //   ' ', ' ', ' ', ' '
        // ]

        // let data = [
        //   '3', ' ', ' ', '2',
        //   ' ', '4', '1', ' ',
        //   ' ', '3', '2', ' ',
        //   '4', ' ', ' ', '1'
        // ]
        this._removeGrids();
        let grid = this._addGrid();
        grid.loadSudoku(data);
        grid.autoSolve = true;
      }
    });
  </script>
</dom-module>
